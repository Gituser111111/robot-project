<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能撲滿</title>
    <link rel="stylesheet" href="../css/resetPassword.css">
    <!--連結到index.css-->
    <link rel="icon" href="../asset/image/logo_money.png">
    <script src="../asset/jquery-3.6.1.min.js"></script>
    <script src="../asset/jquery.validate.js"></script>

<body>

    <!-- first paragraph -->
    <form id="form" method="post" action="" class="container-first-paragraph-form">
        
        <div style="flex-direction: column; align-items: center;display: flex;">
        <div>
            <a href="home.htm" title="返回首頁">
            <img src="../asset/image/logo_pig-removebg-preview.png" alt="" width="75px" />
        </a>
        </div>

        <div class="titlearea">
            重設新密碼
        </div>

    </div>


        <div class="input-row">
            <label>新密碼</label>
            <div style="flex-direction: column;">
                <input type="password" id="password" name="password" placeholder="輸入使用者密碼" onblur="requiredField(this)">
                <div class="eye" style="width: 0px;float:right">
                    <img class="secreteyeC" style="width:15px" src="../asset/image/closedeye.png">
                    <img class="secreteyeO" style="width:15px"
                        src="../asset/image/openeye.png">
                </div>
            </div>
        </div>
        <div class="input-row">
            <label>確認新密碼</label>
            <div style="flex-direction: column;">
                <input type="password" id="passwordConform" name="passwordConform" placeholder="輸入使用者密碼"
                    onblur="requiredField(this)">
                <div class="eye2" style="width: 0px;float:right">
                    <img class="secreteyeC2" style="width:15px" src="../asset/image/closedeye.png">
                    <img class="secreteyeO2" style="width:15px"
                        src="../asset/image/openeye.png">
                </div>
            </div>
        </div>

        <div class="btn-join-us" id="container-first-paragraph-btn-join-us">

            <div style="justify-content: center ;display: flex;">
                <a>
                    <!-- <a href="member.htm"> -->
                    送出
                </a>

            </div>

        </div>


    </form>
</body>

</html>

<script>
    // 密碼顯示隱藏
    $(function () {

        var a = 1;
        $('.secreteyeO').hide();
        // $('.alter').hide();

        $("secreteyeC").hide();
        $('.eye').click(function () {
            a += 1;
            if (a % 2 == 0) {
                $('.secreteyeO').show();
                $('.secreteyeC').hide();
                $('#password').prop('type', 'text');
            } else {
                $('.secreteyeO').hide();
                $('.secreteyeC').show();
                $('#password').prop('type', 'password');

            }

        })

        $('.secreteyeO2').hide();
        // $('.alter').hide();

        $("secreteyeC2").hide();
        $('.eye2').click(function () {
            a += 1;
            if (a % 2 == 0) {
                $('.secreteyeO2').show();
                $('.secreteyeC2').hide();
                $('#passwordConform').prop('type', 'text');
            } else {
                $('.secreteyeO2').hide();
                $('.secreteyeC2').show();
                $('#passwordConform').prop('type', 'password');

            }

        })



    })

</script>

<script>
    // 驗證工具
    $(function () {
        // 如果使用 click button 事件
        $('.btn-join-us').on('click', function () {
            
          if($("#form").valid()){
            $("#form").submit;
            location.href = 'login.htm';
          }
            
        });
        $('#form').validate(

            {
                errorClass: 'ym-error',
                errorElement: 'div',
                errorPlacement: function (error, element) {
                    element.parent().append(error);
                },
                /* 常用檢測屬性
               required:必填
               noSpace:空白
               minlength:最小長度
               maxlength:最大長度
               email:信箱格式
               number:數字格式
               url:網址格式https://www.minwt.com
               */

                rules: {
                    password: {
                        required: true,
                        lettersonly: true,
                        minlength: 8,
  
                    },
                    passwordConform: {
                        required:true,
                        equalTo: "#password",
                    },

                },
                messages: {
                    password: {

                        required: "此欄位不得空白",
                        lettersonly: "僅輸入(英文/數字)",
                        minlength: "僅輸入8碼以上",

                    },

                    passwordConform: {
                        required: '此欄位不得空白',
                        equalTo: "輸入內容與密碼欄位不符",
                    },
                },
                submitHandler: function (form) {
                    form.submit();
                    location.href = 'login.htm';
                }

            });


    });

    jQuery.validator.addMethod("lettersonly", function (value, element) {
        return this.optional(element) || /^[a-zA-Z0-9]+$/i.test(value);
    }, "Only alphabetical characters");

</script>

<script>
    function requiredField(input) {
        $(input).valid();
        // if (input.value.length < 1) {
        //     //red border
        //     $(input).parent().parent().next().children().next().children().show();



        // } else if (input.type == "email") {
        //     console.log("this is an email type");

        //     if (input.value.indexOf("@") != -1 && input.value.indexOf(".") != -1) {
        //         //green border
        //         input.style.borderColor = "#2ecc71";
        //     } else {
        //         //red border
        //         input.style.borderColor = "#e74c3c";
        //     }

        // } else {
        //     //green border
        //     input.style.borderColor = "#2ecc71";
        // }
    }
</script>