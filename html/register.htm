<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能撲滿</title>
    <link rel="stylesheet" href="../css/register.css">
    <!--連結到index.css-->
    <link rel="icon" href="../asset/image/logo_money.png">
    <script src="../asset/jquery-3.6.1.min.js"></script>
    <script src="../asset/jquery.validate.js"></script>

<body>

    <!-- first paragraph -->
    <form id="form" method="post" action="" class="container-first-paragraph-form">
        <a href="home.htm" title="返回首頁">
            <img src="../asset/image/logo_pig-removebg-preview.png" alt="" width="75px" />
        </a>

        <div class="alter-message" style="color:red">
            <!-- {% block body %} -->
            <!-- <a>{{request.messages}}<a>
                        {% endblock %} -->
     
            <!-- 後端開發完 可以打開的註解 -->

        </div>
        <div class="input-row">
            <label>姓名</label>
            <div style="flex-direction: column;">

                <input type="text" id="name" name="name" onblur="requiredField(this)" placeholder="輸入最多15個字元"></input>
            </div>
        </div>
        <div class="input-row">
            <label>帳號</label>
            <div style="flex-direction: column;">
                <input type="text" id="account" name="account" placeholder="輸入使用者帳號" onblur="requiredField(this)" />
            </div>
        </div>
        <div class="input-row">
            <label>密碼</label>
            <div style="flex-direction: column;">
                <input type="password" id="password" name="password" placeholder="輸入使用者密碼" onblur="requiredField(this)">
                <div class="eye" style="width: 0px;float:right">
                    <img class="secreteyeC" style="width:15px" src="../asset/image/closedeye.png">
                    <img class="secreteyeO" style="width:15px"
                        src="../asset/image/openeye.png">
                </div>
            </div>
        </div>
        <div class="input-row">
            <label>確認密碼</label>
            <div style="flex-direction: column;">
                <input type="password" id="passwordConform" name="passwordConform" placeholder="輸入使用者密碼"
                    onblur="requiredField(this)">
                <div class="eye2" style="width: 0px;float:right">
                    <img class="secreteyeC2" style="width:15px" src="../asset/image/closedeye.png">
                    <img class="secreteyeO2" style="width:15px"
                        src="../asset/image/openeye.png">
                </div>
            </div>
        </div>
        <div class="input-row">
            <label>電話</label>
            <div style="flex-direction: column;">

                <input type="text" id="phone" name="phone" onblur="requiredField(this)" placeholder="須輸入十碼數字"></input>
            </div>
        </div>
        <div class="input-row">
            <label>電子郵件</label>
            <div style="flex-direction: column;">

                <input type="text" id="email" name="email" onblur="requiredField(this)"
                    placeholder="輸入格式 username@mail.com" placeholder-class="email-placeholder"></input>
            </div>
        </div>
        <button class="btn-join-us" id="container-first-paragraph-btn-join-us">
            <a>註冊</a>
        </button>
        <div class="btn-group">
            <div><a href="login.htm"> 已有帳號？點擊跳轉登入介面 </a></div>
        </div>
    </form>
</body>

</html>


<script>
    // 密碼顯示隱藏
    $(function () {

        var a = 1;
        $('.secreteyeO').hide();
        // $('.alter').hide();

        $("secreteyeC").hide();
        $('.eye').click(function () {
            a += 1;
            if (a % 2 == 0) {
                $('.secreteyeO').show();
                $('.secreteyeC').hide();
                $('#password').prop('type', 'text');
            } else {
                $('.secreteyeO').hide();
                $('.secreteyeC').show();
                $('#password').prop('type', 'password');

            }

        })

        $('.secreteyeO2').hide();
        // $('.alter').hide();

        $("secreteyeC2").hide();
        $('.eye2').click(function () {
            a += 1;
            if (a % 2 == 0) {
                $('.secreteyeO2').show();
                $('.secreteyeC2').hide();
                $('#passwordConform').prop('type', 'text');
            } else {
                $('.secreteyeO2').hide();
                $('.secreteyeC2').show();
                $('#passwordConform').prop('type', 'password');

            }

        })



    })

</script>

<script>
    // 驗證工具
    $(function () {
        // 如果使用 click button 事件
        $('#btn-join-us').on('click', function () {
            $("#form").valid();
        });
        $('#form').validate(

            {

                errorClass: 'ym-error',
                errorElement: 'div',
                errorPlacement: function (error, element) {
                    element.parent().append(error);
                },
                /* 常用檢測屬性
               required:必填
               noSpace:空白
               minlength:最小長度
               maxlength:最大長度
               email:信箱格式
               number:數字格式
               url:網址格式https://www.minwt.com
               */

                rules: {
                    name: {
                        required: true,
                        lettersonlyfirst: true,
                        letters: true,
                        maxlength: 15,
                    },
                    account: {
                        required: true,
                        lettersonly: true,
                        minlength: 8,
                        
                    },
                    password: {
                        required: true,
                        lettersonly: true,
                        minlength: 8,    
                    },
                    passwordConform: {
                        required:true,
                        equalTo: "#password",
                    },
                    phone:
                    {
                        required: true,
                        digits: true,
                        minlength: 10,
                        maxlength: 10,
                    },
                    email: {
                        required: true,
                        email: true,
                    }

                },
                messages: {
                    name: {
                        required: '此欄位不得空白',
                        lettersonlyfirst: '首字須輸入(中文/英文)',
                        letters: '僅輸入(中文/英文/空白)',
                        maxlength: '不得超過15個字元'
                    },
                    account: {
                        required: "此欄位不得空白",
                        minlength: "僅輸入8碼以上",
                        lettersonly: "僅輸入(英文/數字)",
                    },

                    password: {
  
                        required: "此欄位不得空白",
                        minlength: "僅輸入8碼以上",
                        lettersonly: "僅輸入(英文/數字)",
                    },

                    passwordConform: {
                        required: '此欄位不得空白',
                        equalTo: "輸入內容與密碼欄位不符",
                    },
                    phone:
                    {
                        required: '此欄位不得空白',
                        digits: '僅輸入十碼數字',
                        minlength: '僅輸入十碼數字',
                        maxlength: '僅輸入十碼數字',
                    },
                    email:
                    {
                        required: '此欄位不得空白',
                        email: "請輸入有效電子郵件"
                    }
                },
                submitHandler: function (form) {
                    form.submit();
                    location.href = 'member.htm';
                }

            });


    });

    jQuery.validator.addMethod("lettersonly", function (value, element) {
        return this.optional(element) || /^[a-zA-Z0-9]+$/i.test(value);
    }, "Only alphabetical characters");

    jQuery.validator.addMethod("letters", function (value, element) {
        return this.optional(element) || /^[\u3300-\u9fff\uf900-\ufaff\a-zA-z\s]+$/i.test(value);
    }, "alphabetical characters and chinese and space");

    jQuery.validator.addMethod("lettersonlyfirst", function (value, element) {
        return (this.optional(element) || value.match(/^[\u3300-\u9fff\uf900-\ufaff\a-zA-z]/i));
    }, "Only alphabetical characters");
</script>

<script>
    function requiredField(input) {
        $(input).valid();
    }
</script>